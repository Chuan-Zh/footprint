#!/usr/bin/env python 

if __name__ == "__main__":
    import networkx as nx
    import regulon_subgraph as rs


    import sys
    import os


    try:
        crs_f = sys.argv[1]
    except IndexError:
        sys.exit("Check node degree distribution in whole graph\npython %s <tsv file generated by edges2table.pl>" % (sys.argv[0]))

    bindir = os.path.abspath(os.path.dirname(sys.argv[0]))
    regulon_f = os.path.join(bindir, "../data/regulon_by_first_gene.txt");

    G = rs.crs_graph(crs_f)

    regulon_g2r = rs.read_regulon_g2r(regulon_f)

    for node in G.nodes():
        if node in regulon_g2r:
            print("%s\t%d\t%s" % (node, G.degree(node), regulon_g2r[node]))
        else:
            print("%s\t%d\t%s" % (node, G.degree(node), '-'))


